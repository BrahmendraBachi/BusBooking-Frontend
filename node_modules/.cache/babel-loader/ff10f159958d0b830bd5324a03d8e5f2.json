{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Brahmendra Bachi\\\\React\\\\bus-management\\\\src\\\\components\\\\BookSeats.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport 'react-toastify/dist/ReactToastify.css';\nimport '../Grid.css';\nimport ShowSeats from './ShowSeats';\nimport ConfirmBook from './ConfirmBook';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BookSeats = _ref => {\n  _s();\n\n  let {\n    data\n  } = _ref;\n  const [bookedSeats, setBookedSeats] = useState([]);\n  const [allseats, setSeats] = useState(data.allSeats);\n  const [tickets, setTickets] = useState(data.bookedSeats);\n  const [date, setDate] = useState(data.date);\n  const [busId, setBusId] = useState(data.busId);\n  const [indexes, setIndexes] = useState(data.indexes);\n  const [id, setId] = useState(data.id);\n  const [message, setMessage] = useState('');\n  const [count, setCount] = useState(bookedSeats.length);\n  const navigate = useNavigate(); //Cancelling instant seats in bookedSeats variable which you clicked\n\n  const cancelMySeats = num => {\n    setBookedSeats(current => current.filter(element => {\n      return element !== num;\n    }));\n    console.log(bookedSeats);\n    setCount(prevState => prevState - 1);\n    console.log(count);\n  }; //Will add Seats to bookedSeats variable that you have instantly clicked\n\n\n  const editMySeats = num => {\n    setBookedSeats(prev => [...bookedSeats, num]);\n    console.log(bookedSeats);\n    setCount(prevState => prevState + 1);\n    console.log(count);\n  }; //Checks seat no is booked or not\n\n\n  const isBooked = num => {\n    console.log(tickets);\n    console.log(bookedSeats); //Check seat no is already booked or not\n\n    if (tickets.includes(num, 0)) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Grid1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 6\n      }, this);\n    } // Cancels instant booked seats\n    else if (bookedSeats.includes(num, 0)) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buttonSize2\",\n          onClick: () => cancelMySeats(num),\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"textCenter\",\n            children: num\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this);\n    } // Books \n    else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buttonSize1\",\n          onClick: () => editMySeats(num),\n          children: /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }, this);\n    }\n  }; //Gives option for Booking\n\n\n  const Book = () => {\n    if (count > 1) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-danger\",\n        onClick: () => BookSeatsSubmit(),\n        children: [\" Book \", count, \" Seats \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this);\n    }\n\n    if (count === 1) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-danger\",\n        onClick: () => BookSeatsSubmit(),\n        children: [\" Book \", count, \" Seat \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 12\n      }, this);\n    }\n  };\n\n  const BookSeatsSubmit = () => {\n    var data = {\n      bookedSeats,\n      date,\n      busId,\n      indexes,\n      id,\n      count\n    };\n    console.log(data);\n    navigate(`/passenger-details/${id}`, {\n      state: {\n        Data: data\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center text-danger\",\n      children: \" Book Your Seats \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center text-primary\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-style\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ShowSeats, {\n          checkBooked: isBooked,\n          AllSeats: allseats\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ConfirmBook, {\n        confirm: Book\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BookSeats, \"wzru3Fr2RNvxqa6n6epdaf2AmqY=\", false, function () {\n  return [useNavigate];\n});\n\n_c = BookSeats;\nexport default BookSeats;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookSeats\");","map":{"version":3,"names":["React","useState","useNavigate","ShowSeats","ConfirmBook","BookSeats","data","bookedSeats","setBookedSeats","allseats","setSeats","allSeats","tickets","setTickets","date","setDate","busId","setBusId","indexes","setIndexes","id","setId","message","setMessage","count","setCount","length","navigate","cancelMySeats","num","current","filter","element","console","log","prevState","editMySeats","prev","isBooked","includes","Book","BookSeatsSubmit","state","Data"],"sources":["C:/Users/Brahmendra Bachi/React/bus-management/src/components/BookSeats.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport '../Grid.css';\r\nimport ShowSeats from './ShowSeats';\r\nimport ConfirmBook from './ConfirmBook';\r\n\r\n\r\nconst BookSeats = ({data}) => {\r\n\r\n const [bookedSeats, setBookedSeats] = useState([]);\r\n const [allseats, setSeats] = useState(data.allSeats);\r\n const [tickets, setTickets] = useState(data.bookedSeats);\r\n const [date, setDate] = useState(data.date);\r\n const [busId, setBusId] = useState(data.busId);\r\n const [indexes, setIndexes] = useState(data.indexes);\r\n const [id, setId] = useState(data.id);\r\n const[message, setMessage] = useState('')\r\n const[count, setCount] = useState(bookedSeats.length)\r\n\r\n const navigate = useNavigate();\r\n \r\n\r\n //Cancelling instant seats in bookedSeats variable which you clicked\r\n const cancelMySeats=(num)=>{\r\n\r\n  setBookedSeats(current =>\r\n      current.filter(element => {\r\n        return element !== num;\r\n      }),\r\n    )\r\n  console.log(bookedSeats);\r\n  setCount(prevState => prevState - 1);\r\n  console.log(count);\r\n\r\n }\r\n\r\n\r\n //Will add Seats to bookedSeats variable that you have instantly clicked\r\n const editMySeats=(num)=>{\r\n\r\n  setBookedSeats(prev => [...bookedSeats, num]);\r\n  console.log(bookedSeats);\r\n  setCount(prevState => prevState + 1);\r\n  console.log(count);\r\n\r\n }\r\n \r\n //Checks seat no is booked or not\r\n const isBooked=(num)=>{\r\n  console.log(tickets);\r\n  console.log(bookedSeats);\r\n\r\n  //Check seat no is already booked or not\r\n  if(tickets.includes(num, 0))\r\n  {\r\n    return (\r\n     <div>\r\n      <div className='Grid1'></div>\r\n     </div>\r\n     )\r\n  }\r\n  \r\n  // Cancels instant booked seats\r\n  else if(bookedSeats.includes(num,0)){\r\n    return (\r\n      <div>\r\n        <button  className='buttonSize2' onClick={()=> cancelMySeats(num)}>\r\n          <p className='textCenter'>{num}</p>\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Books \r\n  else\r\n  {\r\n  return (\r\n    <div>\r\n       <button  className='buttonSize1' onClick={()=> editMySeats(num)}>\r\n          <p ></p>\r\n       </button>\r\n    </div>\r\n   )\r\n  }\r\n }\r\n\r\n //Gives option for Booking\r\n const Book=()=>{\r\n\r\n  if(count > 1)\r\n  {\r\n   return <button className = \"btn btn-danger\" onClick = {() => BookSeatsSubmit()} > Book {count} Seats </button>\r\n  }\r\n\r\n  if(count === 1)\r\n  {\r\n    return <button className = \"btn btn-danger\" onClick = {() => BookSeatsSubmit()} > Book {count} Seat </button> \r\n  }\r\n\r\n }\r\n\r\n const BookSeatsSubmit=()=>{\r\n\r\n  var data = {bookedSeats, date, busId, indexes, id, count}\r\n  console.log(data);\r\n  navigate(`/passenger-details/${id}`,{state:{Data : data}});\r\n\r\n }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2 className='text-center text-danger'> Book Your Seats </h2>\r\n      <h2 className='text-center text-primary'>{message}</h2>\r\n       <div className='container-style'>\r\n        <div className='mb-2'>\r\n        <div className='p-1'></div>\r\n        <ShowSeats checkBooked = {isBooked} AllSeats = {allseats}/>\r\n      </div>\r\n      <div className='p-1'></div>\r\n       <ConfirmBook confirm = {Book} />\r\n      </div>\r\n      <div className='p-2'></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BookSeats"],"mappings":"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"},"metadata":{},"sourceType":"module"}